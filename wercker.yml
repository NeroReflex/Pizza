# docker box definition
box: java

# defining the dev pipeline
build:
  steps:
    - install-packages:
        packages: git openssl pkg-config libssl-dev wget zlib1g-dev unzip openssh-client unzip tar
    - script:
        name: Fetching git-lfs
        code: wget https://github.com/github/git-lfs/releases/download/v1.3.0/git-lfs-linux-amd64-1.3.0.tar.gz
    - script:
        name: Extracting git-lfs
        code: |-
          tar -xf git-lfs-linux-amd64-1.3.0.tar.gz
          chmod +x git-lfs-1.3.0/install.sh
    - script:
        name: Installing git-lfs
        code: |-
          cd git-lfs-1.3.0
          ./install.sh
          git lfs install
    - script:
        name: Downloading ant
        code: wget http://apache.panu.it//ant/binaries/apache-ant-1.9.7-bin.zip
    - script:
        name: Extracting ant
        code: |-
          unzip apache-ant-1.9.7-bin.zip
          chmod +x apache-ant-1.9.7/bin/ant
    - script:
        name: Building Project
        code: apache-ant-1.9.7/bin/ant -f nbbuild.xml -Dnb.internal.action.name=build jar